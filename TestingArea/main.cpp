#include <iostream>
#include <cstring>
using namespace std;

int paper[503][503];
int tetromino[19][4][4] =
{
	// I block
	{{1, 1, 1, 1},
		{ 0,0,0,0 },
		{ 0,0,0,0 },
		{ 0,0,0,0 }},

	{ {1,0,0,0},
	{1,0,0,0},
	{1,0,0,0},
	{1,0,0,0} },

	// O block
{ {1,1,0,0},
{1,1,0,0},
{0,0,0,0},
{0,0,0,0} },

// L block
{ {1,0,0,0},
{1,0,0,0},
{1,1,0,0},
{0,0,0,0} },

{ {1,1,1,0},
{1,0,0,0},
{0,0,0,0},
{0,0,0,0} },

{ {1,1,0,0},
{0,1,0,0},
{0,1,0,0},
{0,0,0,0} },

{ {0,0,1,0},
{1,1,1,0},
{0,0,0,0},
{0,0,0,0} },

{ {0,1,0,0},
{0,1,0,0},
{1,1,0,0},
{0,0,0,0} },

{ {1,0,0,0},
{1,1,1,0},
{0,0,0,0},
{0,0,0,0} },

{ {1,1,0,0},
{1,0,0,0},
{1,0,0,0},
{0,0,0,0} },

{ {1,1,1,0},
{0,0,1,0},
{0,0,0,0},
{0,0,0,0} },

// Z block
{ {1,0,0,0},
{1,1,0,0},
{0,1,0,0},
{0,0,0,0} },

{ {0,1,1,0},
{1,1,0,0},
{0,0,0,0},
{0,0,0,0} },

{ {0,1,0,0},
{1,1,0,0},
{1,0,0,0},
{0,0,0,0} },

{ {1,1,0,0},
{0,1,1,0},
{0,0,0,0},
{0,0,0,0} },

// T block
{ {1,1,1,0},
{0,1,0,0},
{0,0,0,0},
{0,0,0,0} },

{ {0,1,0,0},
{1,1,0,0},
{0,1,0,0},
{0,0,0,0} },

{ {0,1,0,0},
{1,1,1,0},
{0,0,0,0},
{0,0,0,0} },

{ {1,0,0,0},
{1,1,0,0},
{1,0,0,0},
{0,0,0,0} }
};

int main()
{
	cin.tie(NULL);
	cout.tie(NULL);
	ios::sync_with_stdio(false);

	int n, m;
	cin >> n >> m;

	int input;
	memset(paper, 0, sizeof(paper));
	for (int i = 0; i < n; i++)
		for (int j = 0; j < m; j++)
		{
			cin >> input;
			paper[i][j] = input;
		}

	int answer = 0;
	for (int i = 0; i < 500; i++)
		for (int j = 0; j < 500; j++)
		{
			for (int t = 0; t < 19; t++)
			{
				int sum = 0;
				for (int ii = 0; ii < 4; ii++)
					for (int jj = 0; jj < 4; jj++)
						if (tetromino[t][ii][jj]) sum += paper[i + ii][j + jj];

				if (sum > answer) answer = sum;
			}

		}

	cout << answer;
	return 0;
}